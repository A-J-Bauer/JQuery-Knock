(function(n){"use strict";n.fn.knock=function(t){for(var c={beat:[200,100,100,200,400,200],restart:2e3,debug:!1,events:"keydown mousedown touchstart pointerdown",onRecognized:function(){}},i=n.extend({},c,t),e=i.events.split(" "),o={},s={},u={},r={},h="",f=0;f<e.length;f++)s[e[f]]=new Date,o[e[f]]=new Date,u[e[f]]=[],r[e[f]]=0;return this.each(function(){n(this).on(i.events,function(n){var f,t;if(o[n.type]=new Date,o[n.type]-s[n.type]>2e3?(h=n.type,s[n.type]=o[n.type],u[n.type]=[],r[n.type]=0):(u[n.type][r[n.type]]=o[n.type]-s[n.type],n.type==h&&i.debug&&console.log("knock: beat["+r[n.type]+"] = "+u[n.type][r[n.type]]),r[n.type]++),r[n.type]==i.beat.length){for(f=Math.round(u[n.type][0]/i.beat[0]),t=0;t<i.beat.length;t++)if(f!=Math.round(u[n.type][t]/i.beat[t]))return;n.type==h&&(i.debug&&console.log("knock: recognized by "+n.type),i.onRecognized.call())}s[n.type]=new Date})})}})(jQuery);